---
title: "R Notebook"
output: html_notebook
---

```{r}

library(tidyverse)
df <- read.csv('../data/world-development-indicators/Indicators.csv')
head(df)
```
```{r}
life_df <- subset(df,grepl('life',IndicatorName,ignore.case=TRUE))
items <- unique(life_df$IndicatorName)
print(items)
```


```{r}

female_life_df <- subset(life_df,(IndicatorName==items[1]))



life_analysis_female_df <- female_life_df %>% select(CountryCode,Value) %>% group_by(CountryCode) %>% summarise_all(funs(mean,sd))


```

```{r}
library(plotly)
plot_ly(type = 'scatter',mode='markers') %>%
  add_trace(
            x=life_analysis_female_df$mean,
            y=life_analysis_female_df$sd,
            hoverinfo=life_analysis_female_df$CountryCode,
            text= life_analysis_female_df$CountryCode)
```

```{r}

sle_female_life_df <- female_life_df %>% filter(CountryCode == 'SLE')
country_name = sle_female_life_df$CountryName[1]
print(sle_female_life_df)
plot_ly(x=sle_female_life_df$Year,y=sle_female_life_df$Value,type = 'scatter',mode='markers') %>%
  layout(
            title ='Life Expectancy of Women in Sierra Leone')
            

```





```{r}
analyse <-function(df, value,country){
  subset_df <- subset(df,(IndicatorName==value))
  analysis_df <- subset_df %>% filter(CountryCode == country)
  country_name = analysis_df$CountryName[1]
  Indicator_name = analysis_df$IndicatorName[1]
  
  plt<-plot_ly(x=analysis_df$Year,y=analysis_df$Value,type = 'scatter',mode='markers') %>%
  layout(
            title =Indicator_name)
  return (plt)
}
```
```{r}

country = 'IRQ'
analyse(life_df,items[1],country )
analyse(life_df,items[2],country)
analyse(life_df,items[3],country )

```
```{r}

country = 'IRN'
analyse(life_df,items[1],country )
analyse(life_df,items[2],country)
analyse(life_df,items[3],country )
analyse(life_df,items[4],country)
analyse(life_df,items[5],country )


```
```{r}
country = 'SLE'
analyse(life_df,items[1],country )
analyse(life_df,items[2],country)
analyse(life_df,items[3],country )

```

```{r}
country = 'SMR'
analyse(life_df,items[1],country )
analyse(life_df,items[2],country)
analyse(life_df,items[3],country )
analyse(life_df,items[4],country)
analyse(life_df,items[5],country )


```

## https://www.britannica.com/place/Sierra-Leone


When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
